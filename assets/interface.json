{
    "interface_version": 2,
    "name": "MaaEnd",
    "description": "MaaEnd 终末地小助手，绝赞开发中！",
    "version": "v114514.0.0",
    "contact": "$contact.file",
    "license": "misc/LICENSE_SHORT.md",
    "welcome": "README.md",
    "icon": "misc/MaaEnd-Tiny.png",
    "github": "https://github.com/MaaEnd/MaaEnd",
    "mirrorchyan_rid": "MaaEnd",
    "mirrorchyan_multiplatform": true,
    "languages": {
        "zh_cn": "misc/locales/zh_cn.json",
        "zh_tw": "misc/locales/zh_tw.json",
        "en_us": "misc/locales/en_us.json",
        "ja_jp": "misc/locales/ja_jp.json",
        "ko_kr": "misc/locales/ko_kr.json"
    },
    "controller": [
        {
            "name": "Win32",
            "label": "$controller.Win32.label",
            "type": "Win32",
            "win32": {
                "class_regex": "UnityWndClass",
                "window_regex": "Endfield",
                "screencap": "FramePool",
                "mouse": "SendMessageWithCursorPos",
                "keyboard": "SendMessageWithCursorPos"
            },
            "permission_required": true
        },
        {
            "name": "Win32-Window",
            "label": "$controller.Win32-Window.label",
            "type": "Win32",
            "win32": {
                "class_regex": "UnityWndClass",
                "window_regex": "Endfield",
                "screencap": "PrintWindow",
                "mouse": "SendMessageWithCursorPos",
                "keyboard": "SendMessageWithCursorPos"
            },
            "permission_required": true
        },
        {
            "name": "Win32-Front",
            "label": "$controller.Win32-Front.label",
            "type": "Win32",
            "win32": {
                "class_regex": "UnityWndClass",
                "window_regex": "Endfield",
                "screencap": "DXGI_DesktopDup_Window",
                "mouse": "SendMessageWithCursorPos",
                "keyboard": "SendMessageWithCursorPos"
            },
            "permission_required": true
        },
        {
            "name": "ADB",
            "label": "$controller.ADB.label",
            "type": "Adb"
        },
        {
            "name": "PlayCover",
            "type": "PlayCover"
        }
    ],
    "resource": [
        {
            "name": "官服",
            "path": [
                "./resource"
            ]
        },
        {
            "name": "B 服",
            "path": [
                "./resource",
                "./resource_bilibili"
            ]
        }
    ],
    "agent": {
        "child_exec": "agent/go-service",
        "child_args": []
    },
    "task": [
        {
            "name": "AndroidOpenGame",
            "label": "$task.AndroidOpenGame.label",
            "entry": "AndroidOpenGame",
            "description": "$task.AndroidOpenGame.description",
            "controller": [
                "ADB"
            ]
        },
        {
            "name": "PCOpenGame",
            "label": "$task.PCOpenGame.label",
            "entry": "PCOpenGame",
            "description": "$task.PCOpenGame.description",
            "controller": [
                "Win32",
                "Win32-Window",
                "Win32-Front"
            ]
        },
        {
            "name": "DailyRewards",
            "label": "$task.DailyRewards.label",
            "entry": "DailyRewards",
            "default_check": true,
            "description": "$task.DailyRewards.description"
        },
        {
            "name": "ReadAllWiki",
            "label": "$task.ReadAllWiki.label",
            "entry": "ReadAllWiki",
            "default_check": true,
            "description": "$task.ReadAllWiki.description"
        },
        {
            "name": "BakerEntry",
            "label": "$task.BakerEntry.label",
            "entry": "BakerEntry",
            "default_check": true,
            "description": "$task.BakerEntry.description"
        },
        {
            "name": "ImportBluePrints",
            "label": "$task.ImportBluePrints.label",
            "entry": "ImportBluePrints",
            "description": "$task.ImportBluePrints.description",
            "option": [
                "ImportBluePrints"
            ]
        },
        {
            "name": "RealTimeTask",
            "label": "$task.RealTimeTask.label",
            "entry": "RealTimeTaskMain",
            "description": "$task.RealTimeTask.description",
            "option": [
                "AutoSkip",
                "AutoCloseInteraction",
                "AutoFight",
                "AutoPick",
                "QuickTeleport",
                "AutoZipline",
                "AutoTaskInterval"
            ],
            "controller": [
                "Win32",
                "Win32-Window",
                "Win32-Front"
            ]
        },
        {
            "name": "PuzzleSolver",
            "label": "$task.PuzzleSolver.label",
            "entry": "PuzzleSolverMain",
            "description": "$task.PuzzleSolver.description",
            "option": [
                "PuzzleSolverMode"
            ],
            "controller": [
                "Win32"
            ]
        },
        {
            "name": "AutoResell",
            "label": "$task.AutoResell.label",
            "entry": "ResellMain",
            "description": "$task.AutoResell.description",
            "controller": [
                "Win32",
                "Win32-Window",
                "Win32-Front"
            ],
            "option": [
                "ImportMinimumProfit"
            ]
        },
        {
            "name": "test",
            "entry": "ResellStart",
            "controller": [
                "Win32",
                "Win32-Window",
                "Win32-Front"
            ],
            "option": [
                "ImportMinimumProfit"
            ]
        }
    ],
    "option": {
        "AutoSkip": {
            "type": "switch",
            "label": "$option.AutoSkip.label",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeAutoSkip": {
                            "enabled": true
                        }
                    },
                    "option": [
                        "AutoSkipAll",
                        "AutoSkipChoose",
                        "AutoSkipNext"
                    ]
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeAutoSkip": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoSkipAll": {
            "label": "$option.AutoSkipAll.label",
            "description": "$option.AutoSkipAll.description",
            "type": "switch",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeAutoSkipAll": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeAutoSkipAll": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoSkipChoose": {
            "label": "$option.AutoSkipChoose.label",
            "description": "$option.AutoSkipChoose.description",
            "type": "switch",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeAutoSkipChoose": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeAutoSkipChoose": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoSkipNext": {
            "label": "$option.AutoSkipNext.label",
            "description": "$option.AutoSkipNext.description",
            "type": "switch",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeAutoSkipNext": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeAutoSkipNext": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoCloseInteraction": {
            "type": "switch",
            "label": "自动交互处理",
            "description": "开启后将自动处理：指引光标、说明书翻页、全屏点击继续、档案关闭等",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "HandleTutorialGuide": {
                            "enabled": true
                        },
                        "HandleTutorialPaging": {
                            "enabled": true
                        },
                        "HandleTutorialConfirm": {
                            "enabled": true
                        },
                        "ClickAnywhereToContinue": {
                            "enabled": true
                        },
                        "CheckSpecialInfoPanel": {
                            "enabled": true
                        }
                    },
                    "option": [
                        "EnableTutorialGuide",
                        "EnableTutorialBook",
                        "EnableClickAnywhere",
                        "EnableCloseSpecialPanel"
                    ]
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "HandleTutorialGuide": {
                            "enabled": false
                        },
                        "HandleTutorialPaging": {
                            "enabled": false
                        },
                        "HandleTutorialConfirm": {
                            "enabled": false
                        },
                        "ClickAnywhereToContinue": {
                            "enabled": false
                        },
                        "CheckSpecialInfoPanel": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "EnableTutorialGuide": {
            "label": "点击指引光标",
            "description": "自动点击屏幕上出现的白色指引手势/箭头（老普之手！）",
            "type": "switch",
            "default": "Yes",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "HandleTutorialGuide": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "HandleTutorialGuide": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "EnableTutorialBook": {
            "label": "翻阅说明书",
            "description": "自动翻页并确认说明教程弹窗",
            "type": "switch",
            "default": "Yes",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "HandleTutorialPaging": {
                            "enabled": true
                        },
                        "HandleTutorialConfirm": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "HandleTutorialPaging": {
                            "enabled": false
                        },
                        "HandleTutorialConfirm": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "EnableClickAnywhere": {
            "label": "点击任意处继续",
            "description": "自动识别并点击全屏遮罩提示",
            "type": "switch",
            "default": "Yes",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "ClickAnywhereToContinue": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "ClickAnywhereToContinue": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "EnableCloseSpecialPanel": {
            "label": "关闭档案/语音",
            "description": "自动识别并关闭剧情文档或语音记录界面",
            "type": "switch",
            "default": "Yes",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "CheckSpecialInfoPanel": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "CheckSpecialInfoPanel": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoFight": {
            "type": "switch",
            "label": "$option.AutoFight.label",
            "description": "$option.AutoFight.description",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeAutoFight": {
                            "enabled": true
                        }
                    },
                    "option": [
                        "AutoFightAttack",
                        "AutoFightCombo",
                        "AutoFightSkill"
                        // "AutoFightEndSkill"
                    ]
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeAutoFight": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoFightAttack": {
            "label": "$option.AutoFightAttack.label",
            "type": "switch",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeAutoFightAttack": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeAutoFightAttack": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoFightSkill": {
            "label": "$option.AutoFightSkill.label",
            "type": "switch",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeAutoFightSkill": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeAutoFightSkill": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoFightEndSkill": {
            "label": "$option.AutoFightEndSkill.label",
            "type": "switch",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeAutoFightEndSkill": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeAutoFightEndSkill": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoFightCombo": {
            "label": "$option.AutoFightCombo.label",
            "type": "switch",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeAutoFightCombo": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeAutoFightCombo": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoPick": {
            "label": "$option.AutoPick.label",
            "type": "switch",
            "cases": [
                {
                    "name": "No",
                    "pipeline_override": {
                        "AutoPickFalls": {
                            "enabled": false
                        },
                        "AutoPickInteractive": {
                            "enabled": false
                        }
                    }
                },
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "AutoPickFalls": {
                            "enabled": true
                        },
                        "AutoPickInteractive": {
                            "enabled": true
                        }
                    }
                }
            ]
        },
        "QuickTeleport": {
            "type": "switch",
            "label": "$option.QuickTeleport.label",
            "description": "$option.QuickTeleport.description",
            "cases": [
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeQuickTeleportList": {
                            "enabled": false
                        },
                        "RealTimeQuickTeleportDirect": {
                            "enabled": false
                        }
                    }
                },
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeQuickTeleportList": {
                            "enabled": true
                        },
                        "RealTimeQuickTeleportDirect": {
                            "enabled": true
                        }
                    }
                }
            ]
        },
        "AutoTaskInterval": {
            "type": "input",
            "label": "$option.AutoTaskInterval.label",
            "inputs": [
                {
                    "name": "检测间隔",
                    "label": "$option.AutoTaskInterval.inputs.检测间隔.label",
                    "description": "$option.AutoTaskInterval.inputs.检测间隔.description",
                    "pipeline_type": "int",
                    "verify": "^\\d+$",
                    "default": 400
                }
            ],
            "pipeline_override": {
                "RealTimeTaskMain": {
                    "post_delay": "{检测间隔}"
                }
            }
        },
        "AutoZipline": {
            "type": "switch",
            "label": "$option.AutoZipline.label",
            "description": "$option.AutoZipline.description",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "RealTimeAutoZipline": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "RealTimeAutoZipline": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "ImportBluePrints": {
            "type": "input",
            "label": "$option.ImportBluePrints.label",
            "inputs": [
                {
                    "name": "ImportBluePrintsText",
                    "label": "$option.ImportBluePrints.inputs.ImportBluePrintsText.label",
                    "description": "$option.ImportBluePrints.inputs.ImportBluePrintsText.description",
                    "pipeline_type": "string"
                }
            ],
            "pipeline_override": {
                "ImportBluePrintsInitText": {
                    "action": {
                        "param": {
                            "custom_action_param": {
                                "text": "{ImportBluePrintsText}"
                            }
                        }
                    }
                }
            }
        },
        "PuzzleSolverMode": {
            "type": "select",
            "label": "$option.PuzzleSolverMode.label",
            "description": "$option.PuzzleSolverMode.description",
            "cases": [
                {
                    "name": "Single",
                    "label": "$option.PuzzleSolverMode.cases.Single.label",
                    "pipeline_override": {
                        "PuzzleSolverOnSuccess": {
                            "next": []
                        },
                        "PuzzleSolverSolvePuzzle": {
                            "custom_action_param": {
                                "dryRun": false
                            }
                        }
                    }
                },
                {
                    "name": "Loop",
                    "label": "$option.PuzzleSolverMode.cases.Loop.label",
                    "pipeline_override": {
                        "PuzzleSolverOnSuccess": {
                            "next": [
                                "PuzzleSolverMain"
                            ]
                        },
                        "PuzzleSolverSolvePuzzle": {
                            "custom_action_param": {
                                "dryRun": false
                            }
                        }
                    }
                },
                {
                    "name": "DryRun",
                    "label": "$option.PuzzleSolverMode.cases.DryRun.label",
                    "pipeline_override": {
                        "PuzzleSolverOnSuccess": {
                            "next": []
                        },
                        "PuzzleSolverSolvePuzzle": {
                            "custom_action_param": {
                                "dryRun": true
                            }
                        }
                    }
                }
            ]
        },
        "ImportMinimumProfit": {
            "type": "input",
            "label": "$option.ImportMinimumProfit.label",
            "inputs": [
                {
                    "name": "ImportMinimumProfit",
                    "label": "$option.ImportMinimumProfit.inputs.ImportMinimumProfit.label",
                    "description": "$option.ImportMinimumProfit.inputs.ImportMinimumProfit.description",
                    "pipeline_type": "int",
                    "verify": "^\\d+$",
                    "default": 3000
                }
            ],
            "pipeline_override": {
                "ResellStart": {
                    "action": {
                        "param": {
                            "custom_action_param": {
                                "MinimumProfit": "{ImportMinimumProfit}"
                            }
                        }
                    }
                }
            }
        }
    }
}